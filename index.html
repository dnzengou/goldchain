<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Mind Map</title>
    <script src="https://d3js.org/d3.v6.min.js"></script>
    <link rel="stylesheet" href="assets/css/styles.css">
    <style>
        /*body {
            margin: 0;
            background-color: #f8f9fa;
        }

        .node {
            cursor: pointer;
            transition: all 0.3s; //Smooth transition
        }

        .node circle {
            fill: #fff;
            stroke: steelblue;
            stroke-width: 3px;
            transition: fill 0.3s;
        }

        .node:hover circle {
            fill: #4CAF50; //Change fill on hover
        }

        .node text {
            font: 12px sans-serif;
            fill: #333;
        }

        .link {
            fill: none;
            stroke: #ccc;
            stroke-width: 2px;
        }*/
        
        #body {
          width: 1200px;
          margin: 0 auto;
          position: relative;
        }

        rect {
          fill: none;
          pointer-events: all;
        }

        pre {
          font-size: 18px;
        }

        line {
          stroke: #0E0;
          stroke-width: 1.5px;
        }

        .string, .regexp {
          color: #f39;
        }

        .keyword {
          color: #00c;
        }

        .comment {
          color: #777;
          font-style: oblique;
        }

        .number {
          color: #369;
        }

        .class, .special {
          color: #1181B8;
        }

        a:link, a:visited {
          color: steelblue;
          text-decoration: none;
        }

        a:hover {
          color: #666;
        }



        .node circle {
          cursor: pointer;
          fill: #fff;
          stroke: steelblue;
          stroke-width: 1.5px;
        }

        .node text {
          font-size: 12px;
        }

        path.link {
          fill: none;
          stroke: #ccc;
          stroke-width: 2.0px;
        }
        
    </style>
</head>
<body>
<div id="body"></div>
    <script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
    <!--<script src="assets/js/script.js"></script>-->
    
    <script>
    var json_data = {
 "name": "Goldchain",
 "children": [
   {
    "name": "Fondation (Mois 1-6)",
    "free": true,
    "description": "",
    "children": [
     {
      "name": "Établir des partenariats",
      "description": "",
      "free": true,
      "children": [
       {
        "name": "Activite1",
        "description": "",
        "url": "https://link1/",
        "free": true
       },
       {
        "name": "Activite2",
        "description": "",
        "url": "#",
        "free": true
       },
       {
        "name": "Activit3",
        "description": "",
        "url": "#",
        "free": true
       }
      ]
     },
     {
      "name": "Développer des cadres réglementaires",
      "children": [
       {
        "name": "Activite4",
        "description": "",
        "url": "#",
        "free": true
       },
       {
        "name": "Activite5",
        "description": "",
        "url": "#",
        "free": true
       },
       {
        "name": "Activit6",
        "description": "",
        "url": "#",
        "free": true
       }
      ]
     },
     {
      "name": "Construire l'infrastructure blockchain",
      "children": [
       {
        "name": "Activite7",
        "description": "",
        "url": "#",
        "free": true
       },
       {
        "name": "Activite8",
        "description": "",
        "url": "#",
        "free": true
       },
       {
        "name": "Activit9",
        "description": "",
        "url": "#",
        "free": true
       }
      ]
     },
     {
      "name": "Mettre en place des protocoles d'audit",
      "children": [
       {
        "name": "Activite10",
        "description": "",
        "url": "#",
        "free": true
       },
       {
        "name": "Activite11",
        "description": "",
        "url": "#",
        "free": true
       },
       {
        "name": "Activit12",
        "description": "",
        "url": "#",
        "free": true
       }
      ]
     }
    ]
   },
   {
    "name": "Lancement (Mois 7-12)",
    "free": true,
    "description": "",
    "children": [
     {
      "name": "Émettre des jetons et stablecoins adossés à l'or",
      "description": "",
      "free": true,
      "children": [
       {
        "name": "Activite13",
        "description": "",
        "url": "#",
        "free": true
       },
       {
        "name": "Activite14",
        "description": "",
        "url": "#",
        "free": true
       },
       {
        "name": "Activit15",
        "description": "",
        "url": "#",
        "free": true
       }
      ]
     },
     {
      "name": "Lancer une bourse décentralisée",
      "children": [
       {
        "name": "Activite17",
        "description": "",
        "url": "#",
        "free": true
       },
       {
        "name": "Activite18",
        "description": "",
        "url": "#",
        "free": true
       },
       {
        "name": "Activit19",
        "description": "",
        "url": "#",
        "free": true
       }
      ]
     },
     {
      "name": "Intégrer avec des bourses externes",
      "children": [
       {
        "name": "Activite20",
        "description": "",
        "url": "#",
        "free": true
       },
       {
        "name": "Activite21",
        "description": "",
        "url": "#",
        "free": true
       },
       {
        "name": "Activit22",
        "description": "",
        "url": "#",
        "free": true
       }
      ]
     },
     {
      "name": "Mettre en œuvre des programmes éducatifs",
      "children": [
       {
        "name": "Activite23",
        "description": "",
        "url": "#",
        "free": true
       },
       {
        "name": "Activite24",
        "description": "",
        "url": "#",
        "free": true
       },
       {
        "name": "Activit25",
        "description": "",
        "url": "#",
        "free": true
       }
      ]
     }
    ]
   },
   {
    "name": "Expansion (Mois 13-24)",
    "free": true,
    "description": "",
    "children": [
     {
      "name": "Étendre à d'autres pays",
      "description": "",
      "free": true,
      "children": [
       {
        "name": "Activite26",
        "description": "",
        "url": "#",
        "free": true
       },
       {
        "name": "Activite27",
        "description": "",
        "url": "#",
        "free": true
       },
       {
        "name": "Activit28",
        "description": "",
        "url": "#",
        "free": true
       }
      ]
     },
     {
      "name": "Développer des fonctionnalités avancées",
      "children": [
       {
        "name": "Activite29",
        "description": "",
        "url": "https://link29/",
        "free": true
       },
       {
        "name": "Activite30",
        "description": "",
        "url": "#",
        "free": true
       }
      ]
     }
    ]
   }
 ]
}

var m = [20, 120, 20, 70], // m [w,x,y,z] with z that determines the position of the first node
    w = 1280 - m[1] - m[3],
    h = 800 - m[0] - m[2],
    i = 0,
    root;

var tree = d3.layout.tree()
    .size([h - 100, w - 160]); // .size([h - 100, w - 160]);

var diagonal = d3.svg.diagonal()
    .projection(function(d) { return [d.y, d.x]; });

var vis = d3.select("#body").append("svg:svg")
    .attr("width", w + m[1] + m[3])
    .attr("height", h + m[0] + m[2])
  .append("svg:g")
    .attr("transform", "translate(" + m[3] + "," + m[0] + ")");

root = json_data;
root.x0 = h / 2;
root.y0 = 0;

function toggleAll(d) {
  if (d.children) {
    d.children.forEach(toggleAll);
    toggle(d);
  }
}

  // Initialize the display to show a few nodes.
  // root.children.forEach(toggleAll);
  // toggle(root.children[1]);
  // toggle(root.children[1].children[2]);
  // toggle(root.children[9]);
  // toggle(root.children[9].children[0]);

 update(root);


function update(source) {
  var duration = d3.event && d3.event.altKey ? 5000 : 500;

  // Compute the new tree layout.
  var nodes = tree.nodes(root).reverse();

  // Normalize for fixed-depth.
  nodes.forEach(function(d) { d.y = d.depth * 180; });

  // Update the nodes…
  var node = vis.selectAll("g.node")
      .data(nodes, function(d) { return d.id || (d.id = ++i); });

  // Enter any new nodes at the parent's previous position.
  var nodeEnter = node.enter().append("svg:g")
      .attr("class", "node")
      .attr("transform", function(d) { return "translate(" + source.y0 + "," + source.x0 + ")"; })
      .on("click", function(d) { toggle(d); update(d); });

  nodeEnter.append("svg:circle")
      .attr("r", 1e-6)
      .style("fill", function(d) { return d._children ? "lightsteelblue" : "#fff"; });

  nodeEnter.append('a')
      .attr('xlink:href', function(d) {
        return d.url;
      })
      .append("svg:text")
      .attr("x", function(d) { return d.children || d._children ? -10 : 10; })
      .attr("dy", ".35em")
      .attr("text-anchor", function(d) { return d.children || d._children ? "end" : "start"; })
      .text(function(d) { return d.name; })
      .style('fill', function(d) {
        return d.free ? 'black' : '#999';
      })
      .style("fill-opacity", 1e-6);

  nodeEnter.append("svg:title")
    .text(function(d) {
      return d.description;
    });

  // Transition nodes to their new position.
  var nodeUpdate = node.transition()
      .duration(duration)
      .attr("transform", function(d) { return "translate(" + d.y + "," + d.x + ")"; });

  nodeUpdate.select("circle")
      .attr("r", 6)
      .style("fill", function(d) { return d._children ? "lightsteelblue" : "#fff"; });

  nodeUpdate.select("text")
      .style("fill-opacity", 1);

  // Transition exiting nodes to the parent's new position.
  var nodeExit = node.exit().transition()
      .duration(duration)
      .attr("transform", function(d) { return "translate(" + source.y + "," + source.x + ")"; })
      .remove();

  nodeExit.select("circle")
      .attr("r", 1e-6);

  nodeExit.select("text")
      .style("fill-opacity", 1e-6);

  // Update the links…
  var link = vis.selectAll("path.link")
      .data(tree.links(nodes), function(d) { return d.target.id; });

  // Enter any new links at the parent's previous position.
  link.enter().insert("svg:path", "g")
      .attr("class", "link")
      .attr("d", function(d) {
        var o = {x: source.x0, y: source.y0};
        return diagonal({source: o, target: o});
      })
    .transition()
      .duration(duration)
      .attr("d", diagonal);

  // Transition links to their new position.
  link.transition()
      .duration(duration)
      .attr("d", diagonal);

  // Transition exiting nodes to the parent's new position.
  link.exit().transition()
      .duration(duration)
      .attr("d", function(d) {
        var o = {x: source.x, y: source.y};
        return diagonal({source: o, target: o});
      })
      .remove();

  // Stash the old positions for transition.
  nodes.forEach(function(d) {
    d.x0 = d.x;
    d.y0 = d.y;
  });
}

// Toggle children.
function toggle(d) {
  if (d.children) {
    d._children = d.children;
    d.children = null;
  } else {
    d.children = d._children;
    d._children = null;
  }
}
    </script>
    
    <!--<script>
        // Mind map data structure
        const data = {
            "name": "GoldChain Afrique",
            "children": [
                {
                    "name": "Fondation (Mois 1-6)",
                    "free": true,
                    "description": "",
                    "url": ""
                    "children": [
                        { "name": "Établir des partenariats",
                          "free": true,
                          "description": "",
                          "url": ""
                        },
                        { "name": "Développer des cadres réglementaires",
                          "free": true,
                          "description": "",
                          "url": ""
                        },
                        { "name": "Construire l'infrastructure blockchain",
                          "free": true,
                          "description": "",
                          "url": ""
                        },
                        { "name": "Mettre en place des protocoles d'audit",
                          "free": true,
                          "description": "",
                          "url": ""
                        }
                    ]
                },{                    
                    "name": "Lancement (Mois 7-12)",
                    "free": true,
                    "description": "",
                    "url": ""
                    "children": [
                        { "name": "Émettre des jetons et stablecoins adossés à l'or",
                          "free": true,
                          "description": "",
                          "url": ""
                        },
                        { "name": "Lancer une bourse décentralisée",
                          "free": true,
                          "description": "",
                          "url": ""
                        },
                        { "name": "Intégrer avec des bourses externes",
                          "free": true,
                          "description": "",
                          "url": ""
                        },
                        { "name": "Mettre en œuvre des programmes éducatifs",
                          "free": true,
                          "description": "",
                          "url": ""
                        }
                    ]
                },{                  
                    "name": "Expansion (Mois 13-24)",
                    "free": true,
                    "description": "",
                    "url": ""
                    "children": [
                        { "name": "Étendre à d'autres pays",
                          "free": true,
                          "description": "",
                          "url": ""
                        },
                        { "name": "Développer des fonctionnalités avancées",
                          "free": true,
                          "description": "",
                          "url": ""
                        }
                    ]
                }
            ]
        };

        const width = window.innerWidth;
        const height = window.innerHeight;

        // Create SVG element
        const svg = d3.select("body").append("svg")
            .attr("width", width)
            .attr("height", height);

        const g = svg.append("g").attr("transform", "translate(80,40)");

        const tree = d3.tree().size([height - 100, width - 160]);

        const root = d3.hierarchy(data);
        tree(root);

        // Links (connections)
        const link = g.selectAll(".link")
            .data(root.links())
            .enter().append("path")
            .attr("class", "link")
            .attr("d", d => `
                M${d.target.y},${d.target.x}
                C${(d.target.y + d.source.y) / 2},${d.target.x}
                 ${(d.target.y + d.source.y) / 2},${d.source.x}
                 ${d.source.y},${d.source.x}
            `);

        // Nodes
        const node = g.selectAll(".node")
            .data(root.descendants())
            .enter().append("g")
            .attr("class", d => "node" + (d.children ? " node--internal" : " node--leaf"))
            .attr("transform", d => `translate(${d.y},${d.x})`)
            .on("click", (event, d) => {
                if (d.children) {
                    d._children = d.children;
                    d.children = null;
                } else {
                    d.children = d._children;
                    d._children = null;
                }
                update(root);
            });

        node.append("circle").attr("r", 10);

        node.append("text")
            .attr("dy", 3)
            .attr("x", d => d.children ? -12 : 12)
            .style("text-anchor", d => d.children ? "end" : "start")
            .text(d => d.data.name)
            .clone(true).lower()
            .attr("stroke", "white");

        // Update the tree
        function update(source) {
            const nodes = tree(root);

            // Update the positions of the nodes
            const nodeUpdate = g.selectAll(".node")
                .data(nodes.descendants(), d => d.data.name);

            nodeUpdate.transition()
                .duration(500)
                .attr("transform", d => `translate(${d.y},${d.x})`);

            link.transition()
                .duration(500)
                .attr("d", d => `
                    M${d.target.y},${d.target.x}
                    C${(d.target.y + d.source.y) / 2},${d.target.x}
                     ${(d.target.y + d.source.y) / 2},${d.source.x}
                     ${d.source.y},${d.source.x}
                `);
        }

        // Add zoom functionality
        const zoom = d3.zoom()
            .scaleExtent([0.5, 2])
            .on("zoom", (event) => {
                g.attr("transform", event.transform);
            });

        svg.call(zoom);

        // Responsive design on resize
        window.addEventListener("resize", () => {
            svg.attr("width", window.innerWidth)
               .attr("height", window.innerHeight);
            update(root);
        });
        
        
               
        
    </script>-->
</body>
</html>